### 1.谈谈你对Java平台的理解？“Java是解释执行”，这句话对吗？
>
### 典型回答：
- Java本身是一种面向对象的语言，最显著的特性有两个方面，一是所谓的“**书写一次，到处运行**”（write once， run anywhere），能够非常容易地获得跨平台能力；另外就是**垃圾收集**（GC，Garbage Collection），Java通过垃圾收集器回收分配内存，大部分情况下，程序员不需要自己操心内存的分配和回收。
- 我们日常会接触到JRE（Java runtime environment）或者JDK（Java development kit）。jre，也就是Java运行环境，包含了jvm和Java类库，以及一些模块等。而jdk可以看做是jre的一个超集，提供了更多工具，比如编译器、各种诊断工具等。
>
- 对于“Java是解释执行”这句话，这个说法不太准确。我们开发的Java源代码 .java，首先通过javac编译成字节码（bytecode） .class，然后，在运行时，通过Java虚拟机（jvm）内嵌的解释器将字节码转换成最终的机器码。
- 但是常见的jvm，比如我们大多数情况使用的oracle jdk提供的hotspot jvm，都提供了 JIT（just-in-time）编译器，也就是通常所说的动态编译器，jit 能够在运行时将热点代码编译成机器码，这种情况下部分热点代码就属于**编译执行**，而不是解释执行。
>
### 扩展
- 对于Java平台的理解，可以从很多方面简明扼要地谈一下，例如：Java语言特性，包括泛型、lambda等语言特性；基础类库，包括集合、IO/NIO、网络、并发、安全等基础类库。对于我们日常工作应用较多的类库，面试前可以系统化总结一下，有助于临场发挥。
>
- 或者谈一谈jvm的一些基础概念和机制，比如Java的类加载机制，常用版本jdk内嵌的class-loader，例如bootstrap、application和extension class-loader；类加载大致过程：加载、验证、链接、初始化（《深入理解Java虚拟机》）；自定义class-loader等。还有垃圾收集的基本原理，最常见的垃圾收集器，如serialGC、parallel GC、CMS、G1 等，对于适用于什么样的工作负载最好也心里有数。
>
- 当然还有jdk包含哪些工具或者Java领域内其他工具等，如编译器、运行时环境、安全工具、诊断和监控工具等。这些基本工具是日常工作效率的保证，对于我们工作在其他语言平台上，同样有所帮助，很多都是触类旁通的。
>
### 解释执行和编译执行的问题
- 众所周知，我们通常把java分为编译期和运行时。这里说的Java的编译和C/C++ 是有着不同的意义的，Java 的编译，编译Java源码生成“.class”文件里面实际是字节码，而不是可以直接执行的机器码。Java通过字节码和Java虚拟机这种跨平台的抽象，屏蔽了操作系统和硬件的细节，这也是实现“一次编写，到处执行”的基础。
>
- 在运行时，jvm 会通过类加载器（class-loader）加载字节码，解释或者编译执行。主流Java版本中，如jdk 8 实际是解释和编译混合的一种模式，即所谓的混合模式（-Xmixed）。通常运行在server模式的jvm，会进行上万次调用以收集足够的信息进行高效的编译，client模式这个门限是1500次。oracle Hotspot jvm 内置了两个不同的 jit compiler，C1 对应前面说的client模式，适用于对于启动速度敏感的应用，比如普通Java桌面应用；C2 对应server模式，它的优化是为长时间运行的服务器端应用设计的。默认是采用所谓的分层编译（TieredCompilation）。这里不再展开更多jit的细节，会在后面介绍分层编译的内容。
>
- Java虚拟机启动时，可以指定不同的参数对运行模式进行选择。比如，执行“-Xint”，就是告诉jvm只进行解释执行，不对代码进行编译，这种模式抛弃了jit可能带来的性能优势。毕竟解释器（interpreter）是逐条读入，逐条解释运行的。与其相对应的，还有一个“-Xcomp”参数，这是告诉jvm关闭解释器，不要进行解释执行，或者叫作最大优化级别。这种模式是最高效的吗？不一定。“-Xcomp”会导致jvm启动变慢非常多，同时有些jit编译器优化方式，比如分支预测，如果不进行profiling，往往并不能进行有效优化。
>
- 除了最常见的Java使用模式，其实还有一种新的编译方式，即所谓的AOT（ahead-of-time compilation），直接将字节码编译成机器代码，这样就避免了jit预热等各方面的开销，比如oracle jdk 9 就引入了实验性的 AOT 特性，并且增加了新的 jaotc 工具。而且，oracle jdk 支持分层编译和AOT协作使用，这两者并不是二选一的关系。
>
- 另外，jvm 作为一个强大的平台，不仅仅只有Java语言可以运行在jvm上，本质上合规的字节码都可运行，Java语言自身也为此提供了便利，我们可以看到类似Clojure、Scala、Groovy、JRuby、Jython等大量jvm语言，活跃在不同的场景。
>
### Java特性
- 面向对象（封装、继承、多态）
- 平台无关性（jvm运行.class文件）
- 语言（泛型，Lambda）
- 类库（集合、并发、网络、IO/NIO）
- JRE（Java运行环境，jvm，类库）
- JDK（Java开发工具，包括JRE，javac，诊断工具）
### Java是解释运行吗？
#### 不正确
- 1 Java源代码经过javac编译成.class文件
- 2 .class文件经jvm解释或编译运行
- （1）解释：.class文件经过jvm内嵌的解释器解释执行
- （2）编译：存在jit编译器（just in time compile即时编译器）把经常运行的代码作为“热点代码”编译与本地平台相关的机器码，并进行各种层次的优化
- （3）AOT编译器：Java 9提供的直接将所有代码编译成机器码执行。
>

